<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Relation.Ternary.Structures.Positive</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--without-K</a> <a id="32" class="Symbol">#-}</a>
<a id="36" class="Keyword">module</a> <a id="43" href="Relation.Ternary.Structures.Positive.html" class="Module">Relation.Ternary.Structures.Positive</a> <a id="80" class="Symbol">{</a><a id="81" href="Relation.Ternary.Structures.Positive.html#81" class="Bound">a</a><a id="82" class="Symbol">}</a> <a id="84" class="Symbol">{</a><a id="85" href="Relation.Ternary.Structures.Positive.html#85" class="Bound">A</a> <a id="87" class="Symbol">:</a> <a id="89" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="93" href="Relation.Ternary.Structures.Positive.html#81" class="Bound">a</a><a id="94" class="Symbol">}</a> <a id="96" class="Keyword">where</a>

<a id="103" class="Keyword">open</a> <a id="108" class="Keyword">import</a> <a id="115" href="Level.html" class="Module">Level</a>
<a id="121" class="Keyword">open</a> <a id="126" class="Keyword">import</a> <a id="133" href="Relation.Unary.html" class="Module">Relation.Unary</a>
<a id="148" class="Keyword">open</a> <a id="153" class="Keyword">import</a> <a id="160" href="Relation.Binary.Structures.html" class="Module">Relation.Binary.Structures</a>

<a id="188" class="Keyword">open</a> <a id="193" class="Keyword">import</a> <a id="200" href="Function.html" class="Module">Function</a> <a id="209" class="Keyword">using</a> <a id="215" class="Symbol">(</a><a id="216" href="Function.Base.html#1031" class="Function Operator">_∘_</a><a id="219" class="Symbol">)</a>
<a id="221" class="Keyword">open</a> <a id="226" class="Keyword">import</a> <a id="233" href="Data.Product.html" class="Module">Data.Product</a>
<a id="246" class="Keyword">open</a> <a id="251" class="Keyword">import</a> <a id="258" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="296" class="Symbol">as</a> <a id="299" class="Module">P</a> <a id="301" class="Keyword">using</a> <a id="307" class="Symbol">(</a><a id="308" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="311" class="Symbol">)</a>
<a id="313" class="Keyword">open</a> <a id="318" class="Keyword">import</a> <a id="325" href="Relation.Ternary.Core.html" class="Module">Relation.Ternary.Core</a> <a id="347" class="Keyword">using</a> <a id="353" class="Symbol">(</a><a id="354" href="Relation.Ternary.Core.html#920" class="Record">Rel₃</a><a id="358" class="Symbol">)</a>
<a id="360" class="Keyword">open</a> <a id="365" class="Keyword">import</a> <a id="372" href="Relation.Ternary.Structures.PartialSemigroup.html" class="Module">Relation.Ternary.Structures.PartialSemigroup</a>
<a id="417" class="Keyword">open</a> <a id="422" class="Keyword">import</a> <a id="429" href="Relation.Ternary.Structures.PartialMonoid.html" class="Module">Relation.Ternary.Structures.PartialMonoid</a>

<a id="472" class="Keyword">open</a> <a id="477" href="Relation.Binary.Structures.html#1522" class="Module">IsEquivalence</a>   <a id="493" class="Symbol">{{...}}</a>
<a id="501" class="Keyword">open</a> <a id="506" href="Relation.Ternary.Structures.PartialMonoid.html#865" class="Module">IsPartialMonoid</a> <a id="522" class="Symbol">{{...}}</a>

<a id="Positive"></a><a id="531" href="Relation.Ternary.Structures.Positive.html#531" class="Function">Positive</a> <a id="540" class="Symbol">:</a> <a id="542" href="Relation.Ternary.Core.html#920" class="Record">Rel₃</a> <a id="547" href="Relation.Ternary.Structures.Positive.html#85" class="Bound">A</a> <a id="549" class="Symbol">→</a> <a id="551" href="Relation.Ternary.Structures.Positive.html#85" class="Bound">A</a> <a id="553" class="Symbol">→</a> <a id="555" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="559" class="Symbol">_</a>
<a id="561" href="Relation.Ternary.Structures.Positive.html#531" class="Function">Positive</a> <a id="570" href="Relation.Ternary.Structures.Positive.html#570" class="Bound">rel</a> <a id="574" href="Relation.Ternary.Structures.Positive.html#574" class="Bound">ε</a> <a id="576" class="Symbol">=</a>
  <a id="580" class="Keyword">let</a> <a id="584" class="Keyword">open</a> <a id="589" href="Relation.Ternary.Core.html#920" class="Module">Rel₃</a> <a id="594" href="Relation.Ternary.Structures.Positive.html#570" class="Bound">rel</a> <a id="598" class="Keyword">in</a> <a id="601" class="Symbol">∀</a> <a id="603" class="Symbol">{</a><a id="604" href="Relation.Ternary.Structures.Positive.html#604" class="Bound">Φ₁</a> <a id="607" href="Relation.Ternary.Structures.Positive.html#607" class="Bound">Φ₂</a><a id="609" class="Symbol">}</a> <a id="611" class="Symbol">→</a> <a id="613" href="Relation.Ternary.Structures.Positive.html#604" class="Bound">Φ₁</a> <a id="616" href="Relation.Ternary.Core.html#974" class="Function Operator">∙</a> <a id="618" href="Relation.Ternary.Structures.Positive.html#607" class="Bound">Φ₂</a> <a id="621" href="Relation.Ternary.Core.html#974" class="Function Operator">≣</a> <a id="623" href="Relation.Ternary.Structures.Positive.html#574" class="Bound">ε</a> <a id="625" class="Symbol">→</a> <a id="627" class="Symbol">(</a><a id="628" href="Relation.Ternary.Structures.Positive.html#604" class="Bound">Φ₁</a> <a id="631" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="633" href="Relation.Ternary.Structures.Positive.html#607" class="Bound">Φ₂</a><a id="635" class="Symbol">)</a> <a id="637" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="639" class="Symbol">(</a><a id="640" href="Relation.Ternary.Structures.Positive.html#574" class="Bound">ε</a> <a id="642" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="644" href="Relation.Ternary.Structures.Positive.html#574" class="Bound">ε</a><a id="645" class="Symbol">)</a>

<a id="648" class="Comment">-- NonNegativity means that split off fragments are not bigger than their source.</a>
<a id="730" class="Keyword">record</a> <a id="IsPositive"></a><a id="737" href="Relation.Ternary.Structures.Positive.html#737" class="Record">IsPositive</a> <a id="748" class="Symbol">{</a><a id="749" href="Relation.Ternary.Structures.Positive.html#749" class="Bound">e</a><a id="750" class="Symbol">}</a> <a id="752" href="Relation.Ternary.Structures.Positive.html#752" class="Bound">s</a> <a id="754" class="Symbol">(</a><a id="755" href="Relation.Ternary.Structures.Positive.html#755" class="Bound Operator">_≈_</a> <a id="759" class="Symbol">:</a> <a id="761" href="Relation.Ternary.Structures.Positive.html#85" class="Bound">A</a> <a id="763" class="Symbol">→</a> <a id="765" href="Relation.Ternary.Structures.Positive.html#85" class="Bound">A</a> <a id="767" class="Symbol">→</a> <a id="769" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="773" href="Relation.Ternary.Structures.Positive.html#749" class="Bound">e</a><a id="774" class="Symbol">)</a> <a id="776" class="Symbol">(</a><a id="777" href="Relation.Ternary.Structures.Positive.html#777" class="Bound">rel</a> <a id="781" class="Symbol">:</a> <a id="783" href="Relation.Ternary.Core.html#920" class="Record">Rel₃</a> <a id="788" href="Relation.Ternary.Structures.Positive.html#85" class="Bound">A</a><a id="789" class="Symbol">)</a> <a id="791" class="Symbol">:</a> <a id="793" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="797" class="Symbol">(</a><a id="798" href="Relation.Ternary.Structures.Positive.html#81" class="Bound">a</a> <a id="800" href="Agda.Primitive.html#736" class="Primitive Operator">⊔</a> <a id="802" href="Relation.Ternary.Structures.Positive.html#749" class="Bound">e</a> <a id="804" href="Agda.Primitive.html#736" class="Primitive Operator">⊔</a> <a id="806" href="Agda.Primitive.html#706" class="Primitive">suc</a> <a id="810" href="Relation.Ternary.Structures.Positive.html#752" class="Bound">s</a><a id="811" class="Symbol">)</a> <a id="813" class="Keyword">where</a>
  <a id="821" class="Keyword">open</a> <a id="826" href="Relation.Ternary.Core.html#920" class="Module">Rel₃</a> <a id="831" href="Relation.Ternary.Structures.Positive.html#777" class="Bound">rel</a>

  <a id="838" class="Keyword">field</a>
    <a id="848" class="Symbol">{</a><a id="IsPositive._≤ₐ_"></a><a id="849" href="Relation.Ternary.Structures.Positive.html#849" class="Field Operator">_≤ₐ_</a><a id="853" class="Symbol">}</a>   <a id="857" class="Symbol">:</a> <a id="859" href="Relation.Ternary.Structures.Positive.html#85" class="Bound">A</a> <a id="861" class="Symbol">→</a> <a id="863" href="Relation.Ternary.Structures.Positive.html#85" class="Bound">A</a> <a id="865" class="Symbol">→</a> <a id="867" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="871" href="Relation.Ternary.Structures.Positive.html#752" class="Bound">s</a>
    <a id="IsPositive.orderₐ"></a><a id="877" href="Relation.Ternary.Structures.Positive.html#877" class="Field">orderₐ</a>   <a id="886" class="Symbol">:</a> <a id="888" href="Relation.Binary.Structures.html#2163" class="Record">IsPreorder</a> <a id="899" href="Relation.Ternary.Structures.Positive.html#755" class="Bound Operator">_≈_</a> <a id="903" href="Relation.Ternary.Structures.Positive.html#849" class="Field Operator">_≤ₐ_</a> <a id="908" class="Comment">-- todo perhaps a partial order is more suitable?</a>

    <a id="IsPositive.positiveˡ"></a><a id="963" href="Relation.Ternary.Structures.Positive.html#963" class="Field">positiveˡ</a> <a id="973" class="Symbol">:</a> <a id="975" class="Symbol">∀</a> <a id="977" class="Symbol">{</a><a id="978" href="Relation.Ternary.Structures.Positive.html#978" class="Bound">Φ₁</a> <a id="981" href="Relation.Ternary.Structures.Positive.html#981" class="Bound">Φ₂</a> <a id="984" href="Relation.Ternary.Structures.Positive.html#984" class="Bound">Φ</a><a id="985" class="Symbol">}</a> <a id="987" class="Symbol">→</a> <a id="989" href="Relation.Ternary.Structures.Positive.html#978" class="Bound">Φ₁</a> <a id="992" href="Relation.Ternary.Core.html#974" class="Function Operator">∙</a> <a id="994" href="Relation.Ternary.Structures.Positive.html#981" class="Bound">Φ₂</a> <a id="997" href="Relation.Ternary.Core.html#974" class="Function Operator">≣</a> <a id="999" href="Relation.Ternary.Structures.Positive.html#984" class="Bound">Φ</a> <a id="1001" class="Symbol">→</a> <a id="1003" href="Relation.Ternary.Structures.Positive.html#978" class="Bound">Φ₁</a> <a id="1006" href="Relation.Ternary.Structures.Positive.html#849" class="Field Operator">≤ₐ</a> <a id="1009" href="Relation.Ternary.Structures.Positive.html#984" class="Bound">Φ</a>
    <a id="IsPositive.positiveʳ"></a><a id="1015" href="Relation.Ternary.Structures.Positive.html#1015" class="Field">positiveʳ</a> <a id="1025" class="Symbol">:</a> <a id="1027" class="Symbol">∀</a> <a id="1029" class="Symbol">{</a><a id="1030" href="Relation.Ternary.Structures.Positive.html#1030" class="Bound">Φ₁</a> <a id="1033" href="Relation.Ternary.Structures.Positive.html#1033" class="Bound">Φ₂</a> <a id="1036" href="Relation.Ternary.Structures.Positive.html#1036" class="Bound">Φ</a><a id="1037" class="Symbol">}</a> <a id="1039" class="Symbol">→</a> <a id="1041" href="Relation.Ternary.Structures.Positive.html#1030" class="Bound">Φ₁</a> <a id="1044" href="Relation.Ternary.Core.html#974" class="Function Operator">∙</a> <a id="1046" href="Relation.Ternary.Structures.Positive.html#1033" class="Bound">Φ₂</a> <a id="1049" href="Relation.Ternary.Core.html#974" class="Function Operator">≣</a> <a id="1051" href="Relation.Ternary.Structures.Positive.html#1036" class="Bound">Φ</a> <a id="1053" class="Symbol">→</a> <a id="1055" href="Relation.Ternary.Structures.Positive.html#1033" class="Bound">Φ₂</a> <a id="1058" href="Relation.Ternary.Structures.Positive.html#849" class="Field Operator">≤ₐ</a> <a id="1061" href="Relation.Ternary.Structures.Positive.html#1036" class="Bound">Φ</a>

<a id="1064" class="Comment">-- With ε as the smallest element.</a>
<a id="1099" class="Keyword">record</a> <a id="IsPositiveWithZero"></a><a id="1106" href="Relation.Ternary.Structures.Positive.html#1106" class="Record">IsPositiveWithZero</a> <a id="1125" class="Symbol">{</a><a id="1126" href="Relation.Ternary.Structures.Positive.html#1126" class="Bound">e</a><a id="1127" class="Symbol">}</a> <a id="1129" href="Relation.Ternary.Structures.Positive.html#1129" class="Bound">s</a> <a id="1131" class="Symbol">(</a><a id="1132" href="Relation.Ternary.Structures.Positive.html#1132" class="Bound Operator">_≈_</a> <a id="1136" class="Symbol">:</a> <a id="1138" href="Relation.Ternary.Structures.Positive.html#85" class="Bound">A</a> <a id="1140" class="Symbol">→</a> <a id="1142" href="Relation.Ternary.Structures.Positive.html#85" class="Bound">A</a> <a id="1144" class="Symbol">→</a> <a id="1146" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1150" href="Relation.Ternary.Structures.Positive.html#1126" class="Bound">e</a><a id="1151" class="Symbol">)</a> <a id="1153" class="Symbol">(</a><a id="1154" href="Relation.Ternary.Structures.Positive.html#1154" class="Bound">rel</a> <a id="1158" class="Symbol">:</a> <a id="1160" href="Relation.Ternary.Core.html#920" class="Record">Rel₃</a> <a id="1165" href="Relation.Ternary.Structures.Positive.html#85" class="Bound">A</a><a id="1166" class="Symbol">)</a> <a id="1168" href="Relation.Ternary.Structures.Positive.html#1168" class="Bound">ε</a> <a id="1170" class="Symbol">:</a> <a id="1172" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1176" class="Symbol">(</a><a id="1177" href="Relation.Ternary.Structures.Positive.html#81" class="Bound">a</a> <a id="1179" href="Agda.Primitive.html#736" class="Primitive Operator">⊔</a> <a id="1181" href="Relation.Ternary.Structures.Positive.html#1126" class="Bound">e</a> <a id="1183" href="Agda.Primitive.html#736" class="Primitive Operator">⊔</a> <a id="1185" href="Agda.Primitive.html#706" class="Primitive">suc</a> <a id="1189" href="Relation.Ternary.Structures.Positive.html#1129" class="Bound">s</a><a id="1190" class="Symbol">)</a> <a id="1192" class="Keyword">where</a>
  <a id="1200" class="Keyword">open</a> <a id="1205" href="Relation.Ternary.Core.html#920" class="Module">Rel₃</a> <a id="1210" href="Relation.Ternary.Structures.Positive.html#1154" class="Bound">rel</a>

  <a id="1217" class="Keyword">field</a>
    <a id="1227" class="Symbol">{{</a><a id="IsPositiveWithZero.isPositive"></a><a id="1229" href="Relation.Ternary.Structures.Positive.html#1229" class="Field">isPositive</a><a id="1239" class="Symbol">}}</a> <a id="1242" class="Symbol">:</a> <a id="1244" href="Relation.Ternary.Structures.Positive.html#737" class="Record">IsPositive</a> <a id="1255" href="Relation.Ternary.Structures.Positive.html#1129" class="Bound">s</a> <a id="1257" href="Relation.Ternary.Structures.Positive.html#1132" class="Bound Operator">_≈_</a> <a id="1261" href="Relation.Ternary.Structures.Positive.html#1154" class="Bound">rel</a>

  <a id="1268" class="Keyword">open</a> <a id="1273" href="Relation.Ternary.Structures.Positive.html#737" class="Module">IsPositive</a> <a id="1284" href="Relation.Ternary.Structures.Positive.html#1229" class="Field">isPositive</a>

  <a id="1298" class="Keyword">field</a>
    <a id="IsPositiveWithZero.ε-least"></a><a id="1308" href="Relation.Ternary.Structures.Positive.html#1308" class="Field">ε-least</a>   <a id="1318" class="Symbol">:</a> <a id="1320" class="Symbol">∀</a> <a id="1322" class="Symbol">{</a><a id="1323" href="Relation.Ternary.Structures.Positive.html#1323" class="Bound">Φ</a><a id="1324" class="Symbol">}</a> <a id="1326" class="Symbol">→</a> <a id="1328" href="Relation.Ternary.Structures.Positive.html#1168" class="Bound">ε</a> <a id="1330" href="Relation.Ternary.Structures.Positive.html#849" class="Function Operator">≤ₐ</a> <a id="1333" href="Relation.Ternary.Structures.Positive.html#1323" class="Bound">Φ</a> <a id="1335" class="Comment">-- Φ ≤ ε</a>
    <a id="IsPositiveWithZero.ε-split"></a><a id="1348" href="Relation.Ternary.Structures.Positive.html#1348" class="Field">ε-split</a>   <a id="1358" class="Symbol">:</a> <a id="1360" href="Relation.Ternary.Structures.Positive.html#531" class="Function">Positive</a> <a id="1369" href="Relation.Ternary.Structures.Positive.html#1154" class="Bound">rel</a> <a id="1373" href="Relation.Ternary.Structures.Positive.html#1168" class="Bound">ε</a>

  <a id="1378" class="Comment">-- module (is-empty : Decidable (_≈ ε)) where</a>
  <a id="1426" class="Comment">-- open IsPreorder orderₐ</a>
  <a id="1454" class="Comment">-- open import Data.Empty</a>
  <a id="1482" class="Comment">-- open import Relation.Nullary</a>
  <a id="1516" class="Comment">-- open import Relation.Binary.Construct.NonStrictToStrict _≈_ _≤ₐ_</a>

  <a id="1587" class="Comment">-- ε-split′ : ∀ {Φ₁ Φ₂} → Φ₁ ∙ Φ₂ ≣ ε → Φ₁ ≈ ε × Φ₂ ≈ ε</a>
  <a id="1645" class="Comment">-- ε-split′ {Φ₁} {Φ₂} σ with is-empty Φ₁ | is-empty Φ₂</a>
  <a id="1702" class="Comment">-- ... | yes z | yes z&#39; = z , z&#39;</a>
  <a id="1737" class="Comment">-- ... | no  z | _      = ⊥-elim (z (ε-least (positiveˡ σ)))</a>
  <a id="1800" class="Comment">-- ... | yes _ | no z   = ⊥-elim (z (ε-least (positiveʳ σ)))</a>

  <a id="1864" class="Comment">-- module _ {{ _ : IsPartialMonoid _≈_ rel ε }} where</a>
  <a id="1920" class="Comment">--   ε-split : Positive rel ε</a>
  <a id="1952" class="Comment">--   ε-split σ with ε-split′ σ</a>
  <a id="1985" class="Comment">--   ... | eq₁ , eq₂ with ε-unique (sym eq₁) | ε-unique (sym eq₂)</a>
  <a id="2053" class="Comment">--   ... | P.refl | P.refl = P.refl</a>
</pre></body></html>