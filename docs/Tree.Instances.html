<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Tree.Instances</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--without-K</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">module</a> <a id="44" href="Tree.Instances.html" class="Module">Tree.Instances</a> <a id="59" class="Keyword">where</a> 

<a id="67" class="Keyword">open</a> <a id="72" class="Keyword">import</a> <a id="79" href="Core.html" class="Module">Core</a>
<a id="84" class="Keyword">open</a> <a id="89" class="Keyword">import</a> <a id="96" href="Tree.Tree.html" class="Module">Tree.Tree</a>
<a id="106" class="Keyword">open</a> <a id="111" class="Keyword">import</a> <a id="118" href="Tree.Handle.html" class="Module">Tree.Handle</a>

<a id="131" class="Keyword">open</a> <a id="136" class="Keyword">import</a> <a id="143" href="Interface.Except.html" class="Module">Interface.Except</a>
<a id="160" class="Keyword">open</a> <a id="165" class="Keyword">import</a> <a id="172" href="Interface.Lambda.html" class="Module">Interface.Lambda</a>
<a id="189" class="Keyword">open</a> <a id="194" class="Keyword">import</a> <a id="201" href="Interface.Reader.html" class="Module">Interface.Reader</a>
<a id="218" class="Keyword">open</a> <a id="223" class="Keyword">import</a> <a id="230" href="Interface.General.html" class="Module">Interface.General</a>
<a id="248" class="Keyword">open</a> <a id="253" class="Keyword">import</a> <a id="260" href="Interface.MonotoneState.html" class="Module">Interface.MonotoneState</a>

<a id="285" class="Keyword">open</a> <a id="290" class="Keyword">import</a> <a id="297" href="Data.Vec.html" class="Module">Data.Vec</a>

<a id="307" class="Keyword">open</a> <a id="312" class="Keyword">import</a> <a id="319" href="Function.html" class="Module">Function</a>

<a id="329" class="Comment">{- `Tree` instantiates the relevant interfaces -}</a> 
<a id="380" class="Keyword">module</a> <a id="387" href="Tree.Instances.html#387" class="Module">_</a> <a id="389" class="Keyword">where</a>

  <a id="398" class="Keyword">open</a> <a id="403" href="Tree.Tree.html#1028" class="Module">Tree</a>
  <a id="410" class="Keyword">open</a> <a id="415" class="Keyword">import</a> <a id="422" href="MonadicFragment.html" class="Module">MonadicFragment</a> <a id="438" href="Core.html#507" class="Function">Sto</a>
  <a id="444" class="Keyword">open</a> <a id="449" href="MonadicFragment.html#1210" class="Module">Itf</a>
  
  <a id="458" href="Tree.Instances.html#458" class="Function">TreeEff</a> <a id="466" class="Symbol">:</a> <a id="468" href="MonadicFragment.html#768" class="Function">Eff</a> 
  <a id="475" href="Tree.Instances.html#458" class="Function">TreeEff</a> <a id="483" class="Symbol">=</a> <a id="485" href="Tree.Tree.html#1294" class="Datatype">Tree</a> <a id="490" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="492" href="Tree.Handle.html#2933" class="Function">LambdaSig</a>

  <a id="505" class="Keyword">instance</a> <a id="514" href="Tree.Instances.html#514" class="Function">tree-monadic</a> <a id="527" class="Symbol">:</a> <a id="529" href="MonadicFragment.html#1251" class="Record">Monadic</a> <a id="537" href="Tree.Instances.html#458" class="Function">TreeEff</a> 
  <a id="548" href="MonadicFragment.html#1292" class="Field">Monadic.isMonadic</a> <a id="566" href="Tree.Instances.html#514" class="Function">tree-monadic</a> <a id="579" class="Symbol">=</a> <a id="581" href="Tree.Tree.html#1777" class="Function">Tree.tree-monad</a> <a id="597" class="Symbol">(</a><a id="598" href="Tree.Handle.html#2933" class="Function">LambdaSig</a> <a id="608" class="Symbol">_)</a>

  <a id="614" class="Keyword">open</a> <a id="619" class="Keyword">import</a> <a id="626" href="Interface.Lambda.html" class="Module">Interface.Lambda</a>
  <a id="645" class="Keyword">open</a> <a id="650" class="Keyword">import</a> <a id="657" href="Interface.Reader.html" class="Module">Interface.Reader</a>
  <a id="676" class="Keyword">open</a> <a id="681" class="Keyword">import</a> <a id="688" href="Interface.MonotoneState.html" class="Module">Interface.MonotoneState</a>
  <a id="714" class="Keyword">open</a> <a id="719" class="Keyword">import</a> <a id="726" href="Interface.General.html" class="Module">Interface.General</a>

  <a id="747" class="Keyword">import</a> <a id="754" href="Data.List.Relation.Binary.Sublist.Propositional.html" class="Module">Data.List.Relation.Binary.Sublist.Propositional</a> <a id="802" class="Symbol">as</a> <a id="805" class="Module">SL</a>
  <a id="810" class="Keyword">open</a> <a id="815" class="Keyword">import</a> <a id="822" href="Data.List.Relation.Unary.All.html" class="Module">Data.List.Relation.Unary.All</a> <a id="851" class="Keyword">renaming</a> <a id="860" class="Symbol">(</a><a id="861" href="Data.List.Relation.Unary.All.html#3052" class="Function">map</a> <a id="865" class="Symbol">to</a> <a id="868" href="Tree.Instances.html#868" class="Function">map-all</a><a id="875" class="Symbol">)</a>

  <a id="880" class="Keyword">instance</a> <a id="889" href="Tree.Instances.html#889" class="Function">tree-lambda</a> <a id="901" class="Symbol">:</a> <a id="903" href="Interface.Lambda.html#658" class="Record">Lambda</a> <a id="910" href="Tree.Instances.html#458" class="Function">TreeEff</a>
  <a id="920" href="Interface.Lambda.html#848" class="Field">Lambda.abstr</a> <a id="933" href="Tree.Instances.html#889" class="Function">tree-lambda</a> <a id="945" class="Symbol">{</a><a id="946" class="Argument">s</a> <a id="948" class="Symbol">=</a> <a id="950" href="Tree.Instances.html#950" class="Bound">s</a><a id="951" class="Symbol">}</a> <a id="953" class="Symbol">{</a><a id="954" href="Tree.Instances.html#954" class="Bound">t</a><a id="955" class="Symbol">}</a> <a id="957" href="Tree.Instances.html#957" class="Bound">tm</a> <a id="960" class="Symbol">=</a> <a id="962" href="Tree.Tree.html#1403" class="InductiveConstructor">op</a> <a id="965" class="Symbol">(</a><a id="966" href="Tree.Handle.html#1182" class="InductiveConstructor">close-op</a> <a id="975" href="Tree.Instances.html#950" class="Bound">s</a> <a id="977" href="Tree.Instances.html#954" class="Bound">t</a><a id="978" class="Symbol">)</a> <a id="980" class="Symbol">(</a><a id="981" href="Tree.Instances.html#957" class="Bound">tm</a> <a id="984" href="Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="986" href="Data.Vec.Base.html#995" class="InductiveConstructor">[]</a><a id="988" class="Symbol">)</a> <a id="990" class="Symbol">λ</a> <a id="992" href="Tree.Instances.html#992" class="Bound">_</a> <a id="994" class="Symbol">→</a> <a id="996" href="Tree.Tree.html#1371" class="InductiveConstructor">var</a>
  <a id="1002" href="Interface.Lambda.html#1027" class="Field">Lambda.apply</a> <a id="1015" href="Tree.Instances.html#889" class="Function">tree-lambda</a> <a id="1027" href="Tree.Instances.html#1027" class="Bound">f</a> <a id="1029" href="Tree.Instances.html#1029" class="Bound">x</a> <a id="1031" class="Symbol">=</a> <a id="1033" href="Tree.Tree.html#1403" class="InductiveConstructor">op</a> <a id="1036" class="Symbol">(</a><a id="1037" href="Tree.Handle.html#1280" class="InductiveConstructor">apply-op</a> <a id="1046" href="Tree.Instances.html#1027" class="Bound">f</a> <a id="1048" href="Tree.Instances.html#1029" class="Bound">x</a><a id="1049" class="Symbol">)</a> <a id="1051" href="Data.Vec.Base.html#995" class="InductiveConstructor">[]</a> <a id="1054" class="Symbol">λ</a> <a id="1056" href="Tree.Instances.html#1056" class="Bound">_</a> <a id="1058" class="Symbol">→</a> <a id="1060" href="Tree.Tree.html#1371" class="InductiveConstructor">var</a>

  <a id="1067" class="Keyword">instance</a> <a id="1076" href="Tree.Instances.html#1076" class="Function">tree-reader</a> <a id="1088" class="Symbol">:</a> <a id="1090" href="Interface.Reader.html#726" class="Record">Reader</a> <a id="1097" href="Core.html#507" class="Function">Sto</a> <a id="1101" href="Tree.Instances.html#458" class="Function">TreeEff</a>
  <a id="1111" href="Interface.Reader.html#825" class="Field">Reader.ask</a> <a id="1122" href="Tree.Instances.html#1076" class="Function">tree-reader</a> <a id="1134" class="Symbol">=</a> <a id="1136" href="Tree.Tree.html#1403" class="InductiveConstructor">op</a> <a id="1139" class="Symbol">(</a><a id="1140" href="Tree.Handle.html#986" class="InductiveConstructor">ask-op</a><a id="1146" class="Symbol">)</a> <a id="1148" href="Data.Vec.Base.html#995" class="InductiveConstructor">[]</a> <a id="1151" class="Symbol">λ</a> <a id="1153" href="Tree.Instances.html#1153" class="Bound">_</a> <a id="1155" class="Symbol">→</a> <a id="1157" href="Tree.Tree.html#1371" class="InductiveConstructor">var</a> 
  <a id="1164" href="Interface.Reader.html#962" class="Field">Reader.local</a> <a id="1177" href="Tree.Instances.html#1076" class="Function">tree-reader</a> <a id="1189" class="Symbol">_</a> <a id="1191" href="Tree.Instances.html#1191" class="Bound">f</a> <a id="1193" href="Tree.Instances.html#1193" class="Bound">tm</a> <a id="1196" class="Symbol">=</a> <a id="1198" href="Tree.Tree.html#1403" class="InductiveConstructor">op</a> <a id="1201" class="Symbol">(</a><a id="1202" href="Tree.Handle.html#1084" class="InductiveConstructor">local-op</a> <a id="1211" class="Symbol">_</a> <a id="1213" href="Tree.Instances.html#1191" class="Bound">f</a><a id="1214" class="Symbol">)</a> <a id="1216" class="Symbol">(</a><a id="1217" href="Tree.Instances.html#1193" class="Bound">tm</a> <a id="1220" href="Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="1222" href="Data.Vec.Base.html#995" class="InductiveConstructor">[]</a><a id="1224" class="Symbol">)</a> <a id="1226" class="Symbol">λ</a> <a id="1228" href="Tree.Instances.html#1228" class="Bound">_</a> <a id="1230" class="Symbol">→</a> <a id="1232" href="Tree.Tree.html#1371" class="InductiveConstructor">var</a>

  <a id="1239" class="Keyword">instance</a> <a id="1248" href="Tree.Instances.html#1248" class="Function">tree-monotonestate</a> <a id="1267" class="Symbol">:</a> <a id="1269" href="Interface.MonotoneState.html#618" class="Record">MonotoneState</a> <a id="1283" href="Tree.Instances.html#458" class="Function">TreeEff</a> 
  <a id="1294" href="Interface.MonotoneState.html#666" class="Field">MonotoneState.get</a> <a id="1312" href="Tree.Instances.html#1248" class="Function">tree-monotonestate</a> <a id="1331" href="Tree.Instances.html#1331" class="Bound">loc</a>   <a id="1337" class="Symbol">=</a> <a id="1339" href="Tree.Tree.html#1403" class="InductiveConstructor">op</a> <a id="1342" class="Symbol">(</a><a id="1343" href="Tree.Handle.html#1476" class="InductiveConstructor">get-op</a> <a id="1350" href="Tree.Instances.html#1331" class="Bound">loc</a><a id="1353" class="Symbol">)</a>   <a id="1357" href="Data.Vec.Base.html#995" class="InductiveConstructor">[]</a> <a id="1360" class="Symbol">λ</a> <a id="1362" href="Tree.Instances.html#1362" class="Bound">_</a> <a id="1364" class="Symbol">→</a> <a id="1366" href="Tree.Tree.html#1371" class="InductiveConstructor">var</a>
  <a id="1372" href="Interface.MonotoneState.html#791" class="Field">MonotoneState.put</a> <a id="1390" href="Tree.Instances.html#1248" class="Function">tree-monotonestate</a> <a id="1409" href="Tree.Instances.html#1409" class="Bound">loc</a> <a id="1413" href="Tree.Instances.html#1413" class="Bound">v</a> <a id="1415" class="Symbol">=</a> <a id="1417" href="Tree.Tree.html#1403" class="InductiveConstructor">op</a> <a id="1420" class="Symbol">(</a><a id="1421" href="Tree.Handle.html#1574" class="InductiveConstructor">put-op</a> <a id="1428" href="Tree.Instances.html#1409" class="Bound">loc</a> <a id="1432" href="Tree.Instances.html#1413" class="Bound">v</a><a id="1433" class="Symbol">)</a> <a id="1435" href="Data.Vec.Base.html#995" class="InductiveConstructor">[]</a> <a id="1438" class="Symbol">λ</a> <a id="1440" href="Tree.Instances.html#1440" class="Bound">_</a> <a id="1442" class="Symbol">→</a> <a id="1444" href="Tree.Tree.html#1371" class="InductiveConstructor">var</a>
  <a id="1450" href="Interface.MonotoneState.html#947" class="Field">MonotoneState.alloc</a> <a id="1470" href="Tree.Instances.html#1248" class="Function">tree-monotonestate</a> <a id="1489" href="Tree.Instances.html#1489" class="Bound">v</a>   <a id="1493" class="Symbol">=</a> <a id="1495" href="Tree.Tree.html#1403" class="InductiveConstructor">op</a> <a id="1498" class="Symbol">(</a><a id="1499" href="Tree.Handle.html#1378" class="InductiveConstructor">init-op</a> <a id="1507" href="Tree.Instances.html#1489" class="Bound">v</a><a id="1508" class="Symbol">)</a>    <a id="1513" href="Data.Vec.Base.html#995" class="InductiveConstructor">[]</a> <a id="1516" class="Symbol">λ</a> <a id="1518" href="Tree.Instances.html#1518" class="Bound">_</a> <a id="1520" class="Symbol">→</a> <a id="1522" href="Tree.Tree.html#1371" class="InductiveConstructor">var</a>    

  <a id="1533" class="Keyword">instance</a> <a id="1542" href="Tree.Instances.html#1542" class="Function">tree-except</a> <a id="1554" class="Symbol">:</a> <a id="1556" href="Interface.Except.html#600" class="Record">Exception</a> <a id="1566" href="Core.html#507" class="Function">Sto</a> <a id="1570" href="Tree.Instances.html#458" class="Function">TreeEff</a>
  <a id="1580" href="Interface.Except.html#640" class="Field">Exception.throw</a> <a id="1596" href="Tree.Instances.html#1542" class="Function">tree-except</a> <a id="1608" href="Tree.Instances.html#1608" class="Bound">t</a> <a id="1610" class="Symbol">=</a> <a id="1612" href="Tree.Tree.html#1403" class="InductiveConstructor">op</a> <a id="1615" class="Symbol">(</a><a id="1616" href="Tree.Handle.html#1672" class="InductiveConstructor">throw-op</a> <a id="1625" class="Symbol">{</a><a id="1626" class="Argument">t</a> <a id="1628" class="Symbol">=</a> <a id="1630" href="Tree.Instances.html#1608" class="Bound">t</a><a id="1631" class="Symbol">})</a> <a id="1634" href="Data.Vec.Base.html#995" class="InductiveConstructor">[]</a> <a id="1637" class="Symbol">λ</a> <a id="1639" href="Tree.Instances.html#1639" class="Bound">_</a> <a id="1641" class="Symbol">→</a> <a id="1643" href="Tree.Tree.html#1371" class="InductiveConstructor">var</a>
  <a id="1649" href="Interface.Except.html#694" class="Field">Exception.try-with</a> <a id="1668" href="Tree.Instances.html#1542" class="Function">tree-except</a> <a id="1680" href="Tree.Instances.html#1680" class="Bound">t</a> <a id="1682" href="Tree.Instances.html#1682" class="Bound">tm₁</a> <a id="1686" href="Tree.Instances.html#1686" class="Bound">tm₂</a> <a id="1690" class="Symbol">=</a> <a id="1692" href="Tree.Tree.html#1403" class="InductiveConstructor">op</a> <a id="1695" class="Symbol">(</a><a id="1696" href="Tree.Handle.html#1770" class="InductiveConstructor">try-op</a><a id="1702" class="Symbol">)</a> <a id="1704" class="Symbol">(</a><a id="1705" href="Tree.Instances.html#1682" class="Bound">tm₁</a> <a id="1709" href="Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="1711" href="Tree.Instances.html#1686" class="Bound">tm₂</a> <a id="1715" href="Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="1717" href="Data.Vec.Base.html#995" class="InductiveConstructor">[]</a><a id="1719" class="Symbol">)</a> <a id="1721" class="Symbol">λ</a> <a id="1723" href="Tree.Instances.html#1723" class="Bound">_</a> <a id="1725" class="Symbol">→</a> <a id="1727" href="Tree.Tree.html#1371" class="InductiveConstructor">var</a>

  <a id="1734" class="Keyword">open</a> <a id="1739" class="Keyword">import</a> <a id="1746" href="Canon.Function.html" class="Module">Canon.Function</a>
  <a id="1763" class="Keyword">open</a> <a id="1768" href="Canon.Function.html#372" class="Module">FunCanon</a>

  <a id="1780" class="Keyword">instance</a> <a id="1789" href="Tree.Instances.html#1789" class="Function">tree-general</a> <a id="1802" class="Symbol">:</a> <a id="1804" href="Interface.General.html#670" class="Record">General</a> <a id="1812" href="Tree.Instances.html#458" class="Function">TreeEff</a>
  <a id="1822" href="Interface.General.html#701" class="Field">General.general</a> <a id="1838" href="Tree.Instances.html#1789" class="Function">tree-general</a> <a id="1851" class="Symbol">⦃</a> <a id="1853" href="Tree.Instances.html#1853" class="Bound">isfun</a> <a id="1859" class="Symbol">⦄</a> <a id="1861" href="Tree.Instances.html#1861" class="Bound">↑</a> <a id="1863" href="Tree.Instances.html#1863" class="Bound">tm</a> <a id="1866" class="Symbol">=</a> <a id="1868" href="Tree.Tree.html#1403" class="InductiveConstructor">op</a> <a id="1871" class="Symbol">(</a><a id="1872" href="Tree.Handle.html#1868" class="InductiveConstructor">fix-op</a> <a id="1879" class="Symbol">(λ</a> <a id="1882" href="Tree.Instances.html#1882" class="Bound">s</a> <a id="1884" href="Tree.Instances.html#1884" class="Bound">t</a> <a id="1886" class="Symbol">→</a> <a id="1888" href="Canon.Function.html#494" class="Function">fun′</a> <a id="1893" href="Tree.Instances.html#1882" class="Bound">s</a> <a id="1895" href="Tree.Instances.html#1884" class="Bound">t</a><a id="1896" class="Symbol">)</a> <a id="1898" href="Tree.Instances.html#1861" class="Bound">↑</a><a id="1899" class="Symbol">)</a> <a id="1901" class="Symbol">(</a><a id="1902" href="Tree.Instances.html#1863" class="Bound">tm</a> <a id="1905" href="Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="1907" href="Data.Vec.Base.html#995" class="InductiveConstructor">[]</a><a id="1909" class="Symbol">)</a> <a id="1911" class="Symbol">λ</a> <a id="1913" href="Tree.Instances.html#1913" class="Bound">_</a> <a id="1915" class="Symbol">→</a> <a id="1917" href="Tree.Tree.html#1371" class="InductiveConstructor">var</a>

  <a id="1924" class="Keyword">instance</a> <a id="1933" href="Tree.Instances.html#1933" class="Function">tree-isstrong</a> <a id="1947" class="Symbol">:</a> <a id="1949" href="MonadicFragment.html#2033" class="Record">IsStrong</a> <a id="1958" href="Tree.Instances.html#514" class="Function">tree-monadic</a>
  <a id="1973" href="MonadicFragment.html#2093" class="Field">IsStrong.isStr</a> <a id="1988" href="Tree.Instances.html#1933" class="Function">tree-isstrong</a> <a id="2002" class="Symbol">=</a> <a id="2004" href="Tree.Tree.html#2184" class="Function">tree-strong</a> <a id="2016" class="Symbol">(</a><a id="2017" href="Tree.Handle.html#2933" class="Function">LambdaSig</a> <a id="2027" class="Symbol">_)</a>
</pre></body></html>